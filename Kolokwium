namespace Kolokium

{

    internal class Program

    {



        static string[] readFile(string fileName)

        {

            using (var reader = new StreamReader(fileName))

            {

                List<string> list = new List<string>();

                while (!reader.EndOfStream)

                {

                    string? line = reader.ReadLine();

                    if (line != null)

                    {

                        list.Add(line);

                    }

                }

                return list.ToArray();

            }

        }

        static bool czyPalindrom(string tekst)
        {
            int i = 0, j = tekst.Length - 1;
            while (i < j)
            {
                if (tekst[i] != tekst[j])
                {
                    return false;
                }
                i++;
                j--;
            }
            return true;
        }
        static void Main(string[] args)

        {

            string[] list = readFile("identyfikator.txt");
            // 1. palindrom
            foreach (string item in list)
            {
                if (item.Length > 0) { 
                    //sprawdzam serie
                    if (czyPalindrom(item.Substring(0, 3))){
                        Console.WriteLine(item);
                    }
                    //jeśli seria nie jest ok to spawdzam jeszcze numer
                    else if(czyPalindrom(item.Substring(3, 6))){
                        Console.WriteLine(item);
                    }
                    //jeśli powyzsze nie ok to nie robie nic
                }
            }
            Console.WriteLine();
            //2.
            int sum = 0;
            int pos = 0;
            for(int i=0;i<list.Length;i++)
            {
                if (list[i].Length > 0)
                {
                    int tempsum = 0;
                    for(int j=2; j < list[i].Length - 1; j++)
                    {
                        tempsum = tempsum + (list[i])[j];
                    }
                    if (tempsum > sum)
                    {
                        sum = tempsum;
                        pos = i;
                    }
                }
            }
            Console.WriteLine(list[pos]);

            //foreach (string item in list)

            //{

            //    Console.WriteLine(item);

            //}

        }

    }

}
